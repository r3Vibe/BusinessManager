{% extends 'basewithnav.html' %} {% block title %}
<title>Inventory Management</title>
{% endblock %} {% block contents %}
<div class="notification">
  <div class="navigation2">
    <ul>
      <li><a href="{{url_for('inventory')}}"> View</a></li>
      <li><a href="http://" class=""> Order</a></li>
      <li><a href="http://" class=""> Modify</a></li>
      <li><a href="{{url_for('addmasterdata')}}" class="active"> Add</a></li>
    </ul>
  </div>
  <style>
    .col {
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      flex-direction: column;
    }
  </style>
  <div class="addproductform">
    <form action="" style="width: auto">
      {{form.hidden_tag()}}
      <center><h3>Update Master Data</h3></center>
      <br />
      <div class="row row-cols-4">
        <div class="col">
          <center><h3>General Info</h3></center>
          <br />
          <div class="mb-3 felex">
            <div class="showimage">
              {{form.image.label(class="form-label-sm")}}
              <img id="updateimage" src="./static/sleep.jpeg" />
            </div>
          </div>
          <div class="mb-3" id="imageholder">
            {{form.image(class="form-control-sm")}}
          </div>
          <div class="mb-3">{{form.name(class="form-control-sm")}}</div>
          <div class="mb-3">{{form.productid(class="form-control-sm")}}</div>
          <div class="mb-3">{{form.barcode(class="form-control-sm")}}</div>
        </div>
        <div class="col">
          <center><h3>Product Info</h3></center>
          <br />
          <div class="mb-3" style="margin-top: 63%">
            <select
              class="form-select-sm"
              name="vartype"
              id="vartype"
              style="text-transform: capitalize"
            >
              <option selected disabled>Select Variation Type</option>
              <option
                value="addvartype"
                id="addvartype"
                type="button"
                data-bs-target="#exampleModal"
                data-bs-toggle="modal"
              >
                Add Variation Type
              </option>
              {% for x in vartype %}
              <option value="{{x['type']}}">{{x['type']}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="mb-3">{{form.variations(class="form-select-sm")}}</div>
          <div class="mb-3">{{form.category(class="form-select-sm")}}</div>
          <div class="mb-3">{{form.vendor(class="form-select-sm")}}</div>
          <div class="mb-3">{{form.quantity(class="form-control-sm")}}</div>
        </div>
        <div class="col">
          <center><h3>Pricing Info</h3></center>
          <br />
          <div class="mb-3" style="margin-top: 115%">
            {{form.cost(class="form-control-sm")}}
          </div>
          <div class="mb-3">{{form.sellprice(class="form-control-sm")}}</div>
          <div class="mb-3">{{form.tax(class="form-control-sm")}}</div>
        </div>
        <div class="col">
          <center><h3>Logistics Info</h3></center>
          <br />
          <div class="mb-3" style="margin-top: 84%">
            {{form.length(class="form-control-sm")}}
          </div>
          <div class="mb-3">{{form.bredth(class="form-control-sm")}}</div>
          <div class="mb-3">{{form.height(class="form-control-sm")}}</div>
          <div class="mb-3">{{form.weight(class="form-control-sm")}}</div>
        </div>
      </div>
      <div class="row" style="width: 100%">
        <div class="mb-3">{{form.submit(class="btn mybtn")}}</div>
      </div>
    </form>
  </div>
</div>

<!-- Add Variation Type Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Provident,
        impedit.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    $("#inventorylink").addClass("sideactive");

    $(function () {
      $("#image").change(function (event) {
        var x = URL.createObjectURL(event.target.files[0]);
        $("#updateimage").attr("src", x);
      });
    });
    $("#vartype").change(function () {
      var x = $(this).val();
      $.post("/getvars", { data: x }, function (res) {
        var allVar = res.split(",");
        for (var i = 0; i < allVar.length; i++) {
          console.log(allVar[i]);
        }
      });
    });
  });
</script>
{% endblock %}
